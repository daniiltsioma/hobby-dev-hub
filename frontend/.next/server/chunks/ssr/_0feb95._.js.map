{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/loganbrescia/CS554/HobbyDevProj/hobby-dev-hub/frontend/app/projects/%5Bid%5D/page.tsx"],"sourcesContent":["import { Project as ProjectInterface } from \"@/app/api/dummy-db/route\";\nimport { redirect } from \"next/navigation\";\nimport { cookies } from \"next/headers\";\nimport { getUser } from \"@/app/lib/dal\"\n\nconst HOST_URL = process.env.HOST_URL\n\nasync function applyToProject(formData: FormData){\n    \"use server\";\n    const  projectId = formData.get(\"projectId\")\n    const cookieStore = await cookies();\n    const accessToken = cookieStore.get(\"accessToken\");\n\n    if (!accessToken){\n        console.error(\"User not logged in\")\n        return;\n    }\n\n    const response = await fetch(`${HOST_URL}/api/projects/${projectId}`, {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify({ cookie: accessToken}) \n    });\n\n    if (!response.ok) {\n        console.error(\"Failed to apply:\", await response.json());\n        return;\n    }\n    redirect(`/projects/${projectId}`)\n}\n\nexport default async function Project({\n    params,\n}: {\n    params: Promise<{ id: string }>;\n}) {\n    const id = Number((await params).id);\n    const response = await fetch(`${HOST_URL}/api/projects/${id}`, {\n        cache: \"no-store\",\n    });\n    const project: ProjectInterface = await response.json();\n    if (!project) {\n        redirect(\"/\");\n    }\n\n    const user = await getUser();\n    return (\n        <div className=\"px-8\">\n            <div className=\"text-3xl font-bold\">{project.title}</div>\n            <div>\n                <a\n                    href={project.githubRepoURL}\n                    className=\"text-blue-900 underline\"\n                >\n                    {project.githubRepoURL}\n                </a>\n            </div>\n            <div>\n                <p>{project.description}</p>\n            </div>\n            <div>\n                <h5 className=\"font-semibold\">Applicants:</h5>\n                <ul className=\"list-disc pl-5\">\n                    {project.applicants.length > 0 ? (\n                        project.applicants.map((applicant, index) => (\n                            <li key={index}>{applicant}</li>\n                        ))\n                    ) : (\n                        <p>No applicants yet.</p>\n                    )}\n                </ul>\n            </div>\n            { user ? (\n                <form action={applyToProject}>\n                    <input type=\"hidden\" name=\"projectId\" value={id} />\n                    <button\n                        type=\"submit\"\n                        className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded\"\n                    >\n                        Apply Now\n                    </button>\n                </form>\n            ) : (\n                <p className=\"mt-4 text-white\">You must be logged in to apply</p>\n                )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AACA;AAFA;;;;;;;AAIA,MAAM,WAAW,QAAQ,GAAG,CAAC,QAAQ;MAErC,uCAqBsC,GArBtC,wBAAA,eAAe,eAAe,QAAkB;IAE5C,MAAO,YAAY,SAAS,GAAG,CAAC;IAChC,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAChC,MAAM,cAAc,YAAY,GAAG,CAAC;IAEpC,IAAI,CAAC,aAAY;QACb,QAAQ,KAAK,CAAC;QACd;IACJ;IAEA,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,cAAc,EAAE,WAAW,EAAE;QAClE,QAAQ;QACR,aAAa;QACb,MAAM,KAAK,SAAS,CAAC;YAAE,QAAQ;QAAW;IAC9C;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,QAAQ,KAAK,CAAC,oBAAoB,MAAM,SAAS,IAAI;QACrD;IACJ;IACA,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE,CAAC,UAAU,EAAE,WAAW;AACrC;IAtBe,iBAAf,+OAAA;AAwBe,eAAe,QAAQ,EAClC,MAAM,EAGT;IACG,MAAM,KAAK,OAAO,CAAC,MAAM,MAAM,EAAE,EAAE;IACnC,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,cAAc,EAAE,IAAI,EAAE;QAC3D,OAAO;IACX;IACA,MAAM,UAA4B,MAAM,SAAS,IAAI;IACrD,IAAI,CAAC,SAAS;QACV,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACb;IAEA,MAAM,OAAO,MAAM,CAAA,GAAA,iHAAA,CAAA,UAAO,AAAD;IACzB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BAAsB,QAAQ,KAAK;;;;;;0BAClD,8OAAC;0BACG,cAAA,8OAAC;oBACG,MAAM,QAAQ,aAAa;oBAC3B,WAAU;8BAET,QAAQ,aAAa;;;;;;;;;;;0BAG9B,8OAAC;0BACG,cAAA,8OAAC;8BAAG,QAAQ,WAAW;;;;;;;;;;;0BAE3B,8OAAC;;kCACG,8OAAC;wBAAG,WAAU;kCAAgB;;;;;;kCAC9B,8OAAC;wBAAG,WAAU;kCACT,QAAQ,UAAU,CAAC,MAAM,GAAG,IACzB,QAAQ,UAAU,CAAC,GAAG,CAAC,CAAC,WAAW,sBAC/B,8OAAC;0CAAgB;+BAAR;;;;sDAGb,8OAAC;sCAAE;;;;;;;;;;;;;;;;;YAIb,qBACE,8OAAC;gBAAK,QAAQ;;kCACV,8OAAC;wBAAM,MAAK;wBAAS,MAAK;wBAAY,OAAO;;;;;;kCAC7C,8OAAC;wBACG,MAAK;wBACL,WAAU;kCACb;;;;;;;;;;;qCAKL,8OAAC;gBAAE,WAAU;0BAAkB;;;;;;;;;;;;AAI/C"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/loganbrescia/CS554/HobbyDevProj/hobby-dev-hub/frontend/app/lib/auth.ts"],"sourcesContent":["\"use server\";\nimport { ReadonlyRequestCookies } from \"next/dist/server/web/spec-extension/adapters/request-cookies\";\nimport { cookies } from \"next/headers\";\n\nconst GITHUB_APP_CLIENT_ID = process.env.GITHUB_APP_CLIENT_ID || \"\";\nconst GITHUB_APP_CLIENT_SECRET = process.env.GITHUB_APP_CLIENT_SECRET || \"\";\n\nexport async function logout() {\n    \"use server\";\n    const cookieStore = await cookies();\n\n    cookieStore.delete(\"accessToken\");\n    cookieStore.delete(\"refreshToken\");\n}\n\nexport async function generateGitHubTokensFromCode(githubCode: string) {\n    const githubAPIUrl = \"https://github.com/login/oauth/access_token\";\n\n    if (!GITHUB_APP_CLIENT_ID || !GITHUB_APP_CLIENT_SECRET) {\n        throw new Error(\"Github authentication credentials not set.\");\n    }\n\n    const githubTokenQueryParams = new URLSearchParams({\n        client_id: GITHUB_APP_CLIENT_ID,\n        client_secret: GITHUB_APP_CLIENT_SECRET,\n        code: githubCode,\n    });\n\n    const response = await fetch(\n        `${githubAPIUrl}?${githubTokenQueryParams.toString()}`\n    );\n\n    const responseText = await response.text();\n\n    const tokenData: any = {};\n\n    responseText.split(\"&\").map((str) => {\n        const [key, value] = str.split(\"=\");\n        tokenData[key] = value;\n    });\n    return tokenData;\n}\n\ninterface AuthCookieProps {\n    name: string;\n    value: string;\n    expiresIn: number;\n}\n\nexport async function setAuthCookie(\n    cookieStore: ReadonlyRequestCookies,\n    { name, value, expiresIn }: AuthCookieProps\n) {\n    cookieStore.set({\n        name,\n        value,\n        expires: new Date(Date.now() + expiresIn),\n        httpOnly: true,\n        path: \"/\",\n    });\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;;;AAEA,MAAM,uBAAuB,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AACjE,MAAM,2BAA2B,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAElE,eAAe,uCAAI,GAAJ;IAElB,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD;IAEhC,YAAY,MAAM,CAAC;IACnB,YAAY,MAAM,CAAC;AACvB;AAEO,eAAe,uCAA0B,GAA1B,6BAA6B,UAAkB;IACjE,MAAM,eAAe;IAErB,IAAI,CAAC,wBAAwB,CAAC,0BAA0B;QACpD,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,yBAAyB,IAAI,gBAAgB;QAC/C,WAAW;QACX,eAAe;QACf,MAAM;IACV;IAEA,MAAM,WAAW,MAAM,MACnB,GAAG,aAAa,CAAC,EAAE,uBAAuB,QAAQ,IAAI;IAG1D,MAAM,eAAe,MAAM,SAAS,IAAI;IAExC,MAAM,YAAiB,CAAC;IAExB,aAAa,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC;QACzB,MAAM,CAAC,KAAK,MAAM,GAAG,IAAI,KAAK,CAAC;QAC/B,SAAS,CAAC,IAAI,GAAG;IACrB;IACA,OAAO;AACX;AAQO,eAAe,uCAAW,GAAX,cAClB,WAAmC,EACnC,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAmB;IAE3C,YAAY,GAAG,CAAC;QACZ;QACA;QACA,SAAS,IAAI,KAAK,KAAK,GAAG,KAAK;QAC/B,UAAU;QACV,MAAM;IACV;AACJ;;;IArDsB;IAQA;IAkCA;;AA1CA,+OAAA;AAQA,+OAAA;AAkCA,+OAAA"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}